"use strict";var e,t=document.querySelector(".burger"),a=document.querySelector(".nav__btn_close"),o=document.querySelector(".header__nav"),n=Array.prototype.slice.call(document.querySelectorAll(".nav__item")),c=document.querySelector(".nav__phone");n.push(c);var s=function t(){n[e].style.opacity=1,n[e].style.transform="none",++e===n.length?cancelAnimationFrame(t):requestAnimationFrame(t)},r=function t(){n[e].style.opacity=0,n[e].style.transform="translateY(50px)",-1===--e?cancelAnimationFrame(t):requestAnimationFrame(t)};t.onclick=function(){o.classList.add("header__nav_active"),setTimeout((function(){o.style.opacity=1}),10),cancelAnimationFrame(r),e=0,setTimeout((function(){requestAnimationFrame(s)}),80)},a.onclick=function(){cancelAnimationFrame(s),e=n.length-1,requestAnimationFrame(r),o.style.opacity=0,setTimeout((function(){o.classList.remove("header__nav_active")}),250)},window.onresize=function(){var e=document.documentElement.clientWidth;if(e>660?n.forEach((function(e){o.style.opacity=1,e.style.opacity=1,e.style.transform="none"})):!1===o.classList.contains("header__nav_active")?n.forEach((function(e){o.style.opacity=0,e.style.opacity=0,e.style.transform="translateY(50px)"})):n.forEach((function(e){e.style.opacity=1,e.style.transform="none"})),e>1200)if(1==l.classList.contains("contacts__modal_hidden")){var t=l.offsetWidth;l.style.transform="translateX(-"+(t-60)+"px)"}else l.style.transform="none";else if(1==l.classList.contains("contacts__modal_hidden")){var a=l.offsetHeight;l.style.transform="translateY("+(a-60)+"px)"}else l.style.transform="none"},new JustValidate(".about__form",{rules:{mail:{required:!0,email:!0}},messages:{mail:{required:"Заполните это поле",email:"Введите корректный e-mail"}},colorWrong:"#FF3030"}),new JustValidate(".contacts__form",{rules:{name:{required:!0,minLength:2,maxLength:15},mail:{required:!0,email:!0}},messages:{name:{required:"Заполните это поле",minLength:"Введите от 2 до 15 символов",maxLength:"Введите от 2 до 15 символов"},mail:{required:"Заполните это поле",email:"Введите корректный e-mail"}},colorWrong:"#FF3030",submitHandler:function(e,t,a){a({url:"/mail.php",method:"POST",data:t,async:!0,callback:function(e){alert("Успешная отправка!")},error:function(e){alert("Ошибка отправки!")}})}});var l=document.querySelector(".contacts__modal"),i=document.querySelector(".contacts-modal__btn_close"),m=document.querySelector(".contacts-modal__icon_close"),d=document.querySelector(".contacts-modal__icon_open");document.querySelector(".contacts-modal__text");i.onclick=function(){var e=document.documentElement.clientWidth;if(l.classList.toggle("contacts__modal_hidden"),e>1200)if(1==l.classList.contains("contacts__modal_hidden")){var t=l.offsetWidth;l.style.transform="translateX(-"+(t-60)+"px)",m.classList.remove("contacts-modal__icon_active"),d.classList.add("contacts-modal__icon_active")}else l.style.transform="none",m.classList.add("contacts-modal__icon_active"),d.classList.remove("contacts-modal__icon_active");else if(1==l.classList.contains("contacts__modal_hidden")){var a=l.offsetHeight;l.style.transform="translateY("+(a-60)+"px)",m.classList.remove("contacts-modal__icon_active"),d.classList.add("contacts-modal__icon_active")}else l.style.transform="none",m.classList.add("contacts-modal__icon_active"),d.classList.remove("contacts-modal__icon_active")},ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.769657,37.639331],zoom:15},{autoFitToViewport:"always"}),t=new ymaps.Placemark([55.769657,37.639331],{},{iconLayout:"default#image",iconImageHref:"img/location.svg",iconImageSize:[20,20],iconImageOffset:[-3,-42]});e.geoObjects.add(t)}));var u=document.querySelector(".header-search__btn"),_=document.querySelector(".header-form__btn_close"),f=document.querySelector(".header__form"),y=document.querySelector(".header-form__input");u.onclick=function(){f.classList.add("header__form_active"),y.focus()},_.onclick=function(){f.classList.remove("header__form_active")};var v=document.querySelectorAll(".form__input"),p=document.querySelectorAll(".placeholder");v.forEach((function(e){e.onfocus=function(){var e=event.currentTarget.dataset.path;p.forEach((function(t){var a=t.dataset.target;0===e.localeCompare(a)&&(0===a.localeCompare("contacts-comment")?t.style.transform="translate(-22px, -15px) scale(60%)":t.style.transform="translate(-9px, -15px) scale(60%)")}))},e.onblur=function(){var e=event.currentTarget,t=e.dataset.path;p.forEach((function(a){var o=a.dataset.target;0===t.localeCompare(o)&&(""!==e.value?0===o.localeCompare("contacts-comment")?a.style.transform="translate(-22px, -15px) scale(60%)":a.style.transform="translate(-9px, -15px) scale(60%)":a.style.transform="none")}))}}));